!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactMedia={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */
Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()||Object.assign;function i(){}var a=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}()})),c=function(e,t,n,r,o,i,a,c){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,o,i,a,c],s=0;(u=new Error(t.replace(/%s/g,(function(){return f[s++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},u=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()},f=function(e){var t="",n=Object.keys(e);return n.forEach((function(r,o){var i=e[r];(function(e){return/[height|width]$/.test(e)})(r=u(r))&&"number"==typeof i&&(i+="px"),t+=!0===i?r:!1===i?"not "+r:"("+r+": "+i+")",o<n.length-1&&(t+=" and ")})),t},s=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=f(n),r<e.length-1&&(t+=", ")})),t):f(e)},l=function(){function e(e,t,n){var r=this;this.nativeMediaQueryList=e.matchMedia(t),this.active=!0,this.cancellableListener=function(){r.matches=r.nativeMediaQueryList.matches,r.active&&n.apply(void 0,arguments)},this.nativeMediaQueryList.addListener(this.cancellableListener),this.matches=this.nativeMediaQueryList.matches}return e.prototype.cancel=function(){this.active=!1,this.nativeMediaQueryList.removeListener(this.cancellableListener)},e}(),p=function(e){var n=e.query,r=e.queries,i=e.defaultMatches,a=e.targetWindow,u=e.onChange;!function(e){var t=e.query,n=e.queries,r=e.defaultMatches;t||n||t&&n||c(!1),void 0!==r&&t&&"boolean"!=typeof r&&c(!1),void 0!==r&&n&&"object"!=typeof r&&c(!1)}({query:n,queries:r,defaultMatches:i});var f=t.useRef([]),p=function(){var e,t,n=f.current.reduce((function(e,t){var n,r=t.name,i=t.mqListener;return o({},e,((n={})[r]=i.matches,n))}),{});return e=n,1===(t=Object.keys(e)).length&&"__DEFAULT__"===t[0]?e.__DEFAULT__:e},d=function(){b(p())},y=t.useState((function(){return"object"!=typeof window?void 0!==i?i:!!n||Object.keys(r).reduce((function(e,t){var n;return o({},e,((n={})[t]=!0,n))}),{}):(function(){var e=a||window;"function"!=typeof e.matchMedia&&c(!1);var t=r||function(e){return{__DEFAULT__:e}}(n);f.current=Object.keys(t).map((function(n){var r=t[n],o="string"!=typeof r?s(r):r;return{name:n,mqListener:new l(e,o,d)}}))}(),p())})),h=y[0],b=y[1];return t.useEffect((function(){return function(){return f.current.forEach((function(e){return e.mqListener.cancel()}))}}),[]),t.useEffect((function(){u&&u(h)}),[h,u]),h},d=function(e){var t=e.defaultMatches,n=e.query,o=e.queries,i=e.render,a=e.children,c=e.targetWindow,u=e.onChange,f=p({query:n,queries:o,defaultMatches:t,targetWindow:c,onChange:u}),s="object"==typeof f?Object.keys(f).some((function(e){return f[e]})):f;return i?s?i(f):null:a?"function"==typeof a?a(f):(!Array.isArray(a)||a.length)&&s?r.default.Children.only(a)&&"string"==typeof r.default.Children.only(a).type?r.default.Children.only(a):r.default.cloneElement(r.default.Children.only(a),{matches:f}):null:null},y=a.oneOfType([a.string,a.object,a.arrayOf(a.object.isRequired)]);d.propTypes={defaultMatches:a.oneOfType([a.bool,a.objectOf(a.bool)]),query:y,queries:a.objectOf(y),render:a.func,children:a.oneOfType([a.node,a.func]),targetWindow:a.object,onChange:a.func},e.default=d,e.useMedia=p,Object.defineProperty(e,"__esModule",{value:!0})}));
